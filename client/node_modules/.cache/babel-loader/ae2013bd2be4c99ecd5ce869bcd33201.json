{"ast":null,"code":"var _jsxFileName = \"/Applications/MAMP/htdocs/rbm/client/src/pages/sendResetLink.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { Component, useState } from 'react';\nimport Header from '../component/layout/header';\nimport PageHeader from '../component/layout/pageheader';\nimport FooterSection from '../component/layout/footer';\nimport { HttpRequest } from '../services/serverHttpRequest.ts';\nimport { checkEmailaddress } from '../utilities/validation.ts';\nimport { messageBox } from '../utilities/message.ts';\nimport { SEND_RESET_PASSWORD_LINK } from '../api/index.ts';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst title = \"Send link to password recovery\";\n\nconst SendResetLink = props => {\n  _s();\n\n  const [regEmail, setRegEmail] = useState('');\n\n  function handleChange(e) {\n    const name = e.target.name;\n    const value = e.target.value;\n\n    switch (name) {\n      case 'email':\n        if (checkEmailaddress(value)) {\n          setRegEmail(value);\n          messageBox(\".emailError\", \"none\", \"red\", \"\");\n        } else {\n          messageBox(\".emailError\", \"block\", \"red\", \"Invalid email\");\n        }\n\n        break;\n\n      default:\n        break;\n    }\n  }\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n\n    if (regEmail !== \"\") {\n      const response = await HttpRequest.server(SEND_RESET_PASSWORD_LINK, \"POST\", {\n        regEmail\n      });\n\n      if (response.code == 200) {\n        messageBox(\".emailError\", \"block\", \"green\", \"User found and a mail has been sent with further instructions.\");\n      } else {\n        messageBox(\".emailError\", \"block\", \"red\", \"User could not be found.\");\n      }\n    } else {\n      messageBox(\".emailError\", \"block\", \"red\", \"All (*) fields are required\");\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(PageHeader, {\n      title: title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login-section padding-tb\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \" container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"account-wrapper\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"title\",\n            children: title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            className: \"account-form\",\n            id: \"forgetPassword\",\n            onSubmit: handleSubmit,\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"emailError\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                name: \"email\",\n                id: \"email\",\n                placeholder: \"User email *\",\n                onChange: handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 57,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"d-block lab-btn\",\n                type: \"submit\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Send reset link\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 68,\n                  columnNumber: 87\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(FooterSection, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 13\n  }, this);\n};\n\n_s(SendResetLink, \"fksgqLjsMeQ66pz44SNLUQStl/U=\");\n\n_c = SendResetLink;\nexport default SendResetLink;\n\nvar _c;\n\n$RefreshReg$(_c, \"SendResetLink\");","map":{"version":3,"names":["React","Component","useState","Header","PageHeader","FooterSection","HttpRequest","checkEmailaddress","messageBox","SEND_RESET_PASSWORD_LINK","title","SendResetLink","props","regEmail","setRegEmail","handleChange","e","name","target","value","handleSubmit","preventDefault","response","server","code"],"sources":["/Applications/MAMP/htdocs/rbm/client/src/pages/sendResetLink.jsx"],"sourcesContent":["import React, { Component, useState } from 'react';\r\nimport Header from '../component/layout/header';\r\nimport PageHeader from '../component/layout/pageheader';\r\nimport FooterSection from '../component/layout/footer';\r\nimport { HttpRequest } from '../services/serverHttpRequest.ts';\r\n\r\nimport {checkEmailaddress } from '../utilities/validation.ts';\r\nimport { messageBox } from '../utilities/message.ts';\r\nimport { SEND_RESET_PASSWORD_LINK } from '../api/index.ts';\r\nconst title = \"Send link to password recovery\";\r\n\r\nconst SendResetLink = (props) => {\r\n    const [regEmail, setRegEmail] = useState('')\r\n   \r\n    \r\n    function handleChange(e) {\r\n        const name = e.target.name;\r\n        const value = e.target.value;\r\n        switch (name) {\r\n            case 'email':\r\n                if(checkEmailaddress(value)){ setRegEmail(value); messageBox(\".emailError\", \"none\", \"red\", \"\");} else {messageBox(\".emailError\", \"block\", \"red\", \"Invalid email\");}\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    async function handleSubmit(e) {\r\n        e.preventDefault();\r\n        if(regEmail !== \"\"){\r\n                const response = await HttpRequest.server(SEND_RESET_PASSWORD_LINK, \"POST\", {\r\n                    regEmail,\r\n                })\r\n                if(response.code == 200){\r\n                    messageBox(\".emailError\", \"block\", \"green\", \"User found and a mail has been sent with further instructions.\");\r\n                }\r\n                else{\r\n                    messageBox(\".emailError\", \"block\", \"red\", \"User could not be found.\");\r\n                }\r\n        }\r\n        else{\r\n            messageBox(\".emailError\", \"block\", \"red\", \"All (*) fields are required\");\r\n        }\r\n    }\r\n\r\n        return (\r\n            <div>\r\n                <Header />\r\n                <PageHeader title={title} />\r\n                <div className=\"login-section padding-tb\">\r\n                    <div className=\" container\">\r\n                        <div className=\"account-wrapper\">\r\n                            <h3 className=\"title\">{title}</h3>\r\n                            <form className=\"account-form\" id='forgetPassword' onSubmit={handleSubmit}>\r\n                            <span className='emailError'></span>\r\n                                <div className=\"form-group\">\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        name=\"email\"\r\n                                        id=\"email\"\r\n                                        placeholder=\"User email *\"\r\n                                        onChange={handleChange}\r\n                                    />\r\n                                </div>\r\n                             \r\n                      \r\n                                <div className=\"form-group\">\r\n                                    <button className=\"d-block lab-btn\" type=\"submit\"><span>Send reset link</span></button>\r\n                                </div>\r\n                            </form>\r\n                          \r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <FooterSection />\r\n            </div>\r\n        );\r\n}\r\n\r\nexport default SendResetLink;"],"mappings":"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"},"metadata":{},"sourceType":"module"}